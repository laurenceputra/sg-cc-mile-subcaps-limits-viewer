name = "bank-cc-sync"
main = "src/cloudflare-worker.js"
compatibility_date = "2024-01-01"

# SECURITY: Cron Triggers for scheduled cleanup jobs
# Runs daily at 2 AM UTC to clean expired tokens and rotate audit logs
[triggers]
crons = ["0 2 * * *"]

[env.production]
vars = { ENVIRONMENT = "production" }

[[d1_databases]]
binding = "DB"
database_name = "bank_cc_sync"
database_id = "YOUR_D1_DATABASE_ID"

[vars]
ENVIRONMENT = "development"

# Set secrets with: wrangler secret put JWT_SECRET
# Set secrets with: wrangler secret put ADMIN_KEY
